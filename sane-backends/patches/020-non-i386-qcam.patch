--- a/backend/qcam.c
+++ b/backend/qcam.c
@@ -105,6 +105,17 @@
 
 #include "qcam.h"
 
+#if !defined( __i386__) && !defined(__arm__)
+static inline unsigned char __inb(unsigned int port)
+{
+	return 0;
+}
+
+static inline void __outb(unsigned char value, unsigned int port)
+{
+}
+#endif
+
 /* status bits */
 #define NeedRamTable		(1 << 1)
 #define BlackBalanceInProgress	(1 << 6)
@@ -205,12 +205,19 @@
 
 #endif /* <sys/io.h> || <asm/io.h> || <sys/hw.h> */
 
-#define read_lpdata(d)		inb ((d)->port)
-#define read_lpstatus(d)	inb ((d)->port + 1)
-#define read_lpcontrol(d)	inb ((d)->port + 2)
-#define write_lpdata(d,v)	outb ((v), (d)->port)
-#define write_lpcontrol(d,v)	outb ((v), (d)->port + 2)
-
+#if !defined( __i386__) && !defined(__arm__)
+  #define read_lpdata(d)		__inb ((d)->port)
+  #define read_lpstatus(d)	__inb ((d)->port + 1)
+  #define read_lpcontrol(d)	__inb ((d)->port + 2)
+  #define write_lpdata(d,v)	__outb ((v), (d)->port)
+  #define write_lpcontrol(d,v)	__outb ((v), (d)->port + 2)
+#else
+  #define read_lpdata(d)		inb ((d)->port)
+  #define read_lpstatus(d)	inb ((d)->port + 1)
+  #define read_lpcontrol(d)	inb ((d)->port + 2)
+  #define write_lpdata(d,v)	outb ((v), (d)->port)
+  #define write_lpcontrol(d,v)	outb ((v), (d)->port + 2)
+#endif
 
 static SANE_Status
 enable_ports (QC_Device * q)
